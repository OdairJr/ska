"use strict";(self.webpackChunkska=self.webpackChunkska||[]).push([[77],{9077:(f,p,n)=>{n.r(p),n.d(p,{ListComponent:()=>h});var c=n(6814),r=n(95),_=n(3781),m=n(7921),u=n(7398),t=n(5879),d=n(3930),g=n(304);function v(a,l){if(1&a){const s=t.EpF();t.TgZ(0,"li",2),t.NdJ("click",function(){const o=t.CHM(s).$implicit,C=t.oxw();return t.KtG(C.goToDetails(o.id))}),t.TgZ(1,"div",14)(2,"div",15),t._UZ(3,"img",16),t.TgZ(4,"div",17)(5,"h5",18),t._uU(6),t.qZA(),t.TgZ(7,"p",19)(8,"small"),t._uU(9),t.qZA()(),t._uU(10),t.qZA()()()()}if(2&a){const s=l.$implicit,e=t.oxw();t.xp6(3),t.Q6J("src",s.image||"/ska/assets/images/logoCatavento.png",t.LSH),t.xp6(3),t.Oqu(s.name),t.xp6(3),t.Oqu(e.tipos[s.serviceType]),t.xp6(1),t.hij(" ",s.description," ")}}let h=(()=>{var a;class l{constructor(e,i,o){this.establishmentService=e,this.router=i,this.authService=o,this.searchControl=new r.NI,this.tipos=["Mecanica","Oficina","Funilaria","Autope\xe7as"]}ngOnInit(){this.establishmentService.getAll().subscribe({next:e=>{this.establishments=e,this.initFilter()}})}initFilter(){this.establishmentsFiltered$=this.searchControl.valueChanges.pipe((0,m.O)(""),(0,u.U)(e=>this._filter(e)))}_filter(e){const i=e.toLowerCase();return this.establishments?.filter(o=>o.name.toLowerCase().includes(i)||o.description.toLowerCase().includes(i)||o.serviceType.toLowerCase().includes(i))}goToDetails(e){if(!e)return console.error("No id provided");this.router.navigate(["/establishment/details",e])}applyFilterChange(){}}return(a=l).\u0275fac=function(e){return new(e||a)(t.Y36(d.d),t.Y36(_.F0),t.Y36(g.e))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-list"]],standalone:!0,features:[t.jDz],decls:18,vars:5,consts:[[1,"navbar"],[1,"navbar-left"],[3,"click"],[1,"fas","fa-chevron-left","navbar-icon"],[1,"navbar-brand"],[1,"navbar-right"],[3,"routerLink"],[1,"fas","fa-plus","navbar-icon"],[1,"row","pt-3"],[1,"col"],["for","inputSearch",1,"sr-only"],["type","text","id","inputSearch","placeholder","Pesquisar estabelecimento","required","","autofocus","",1,"form-control",3,"formControl"],[1,"list-unstyled"],[3,"click",4,"ngFor","ngForOf"],[1,"card","my-3"],[1,"media"],["alt","Thumbnail",1,"card-img-top",2,"height","150px","width","150px","display","block",3,"src"],[1,"media-body","p-3"],[1,"mt-0","mb-1"],[1,"text-body-secondary",2,"margin-bottom","0"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return i.authService.SignOut()}),t._UZ(3,"i",3),t.qZA()(),t.TgZ(4,"label",4),t._uU(5,"Servi\xe7os Automotivos"),t.qZA(),t.TgZ(6,"div",5)(7,"a",6),t._UZ(8,"i",7),t.qZA()()(),t.TgZ(9,"section")(10,"div",8)(11,"div",9)(12,"label",10),t._uU(13,"Pesquisar estabelecimento"),t.qZA(),t._UZ(14,"input",11),t.qZA()(),t.TgZ(15,"ul",12),t.YNc(16,v,11,4,"li",13),t.ALo(17,"async"),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("routerLink","/establishment/create"),t.xp6(7),t.Q6J("formControl",i.searchControl),t.xp6(2),t.Q6J("ngForOf",t.lcZ(17,3,i.establishmentsFiltered$)))},dependencies:[c.ez,c.sg,c.Ov,_.Bz,_.rH,r.u5,r.Fj,r.JJ,r.Q7,r.UX,r.oH],styles:[".media[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.media-body[_ngcontent-%COMP%]{flex:1}.navbar[_ngcontent-%COMP%]{padding:8px 0}.navbar[_ngcontent-%COMP%]   .navbar-left[_ngcontent-%COMP%]{margin-left:10px}.navbar[_ngcontent-%COMP%]   .navbar-right[_ngcontent-%COMP%]{margin-right:10px}.navbar[_ngcontent-%COMP%]   .navbar-icon[_ngcontent-%COMP%]{font-size:25px;color:#000;padding:8px 0}"]}),l})()}}]);