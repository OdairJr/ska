"use strict";(self.webpackChunkska=self.webpackChunkska||[]).push([[735],{735:(x,g,i)=>{i.r(g),i.d(g,{DetailsComponent:()=>M});var p=i(6814),c=i(3781),m=i(7398),h=i(9397),u=i(975),e=i(5879);let v=(()=>{var o;class r{constructor(){}createMap(t){const a={center:new google.maps.LatLng(-23.6824262,-46.6910678),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};t&&(this.map=new google.maps.Map(t.nativeElement,a))}getLatLongFromAddress(t,a){(new google.maps.Geocoder).geocode({address:t},function(d,l){if("OK"===l){const C=d[0].geometry.location.lat(),A=d[0].geometry.location.lng();a(C,A)}else console.error("Geocode was not successful for the following reason: "+l)})}addMarkerAndCenterMap(t,a){if(!this.map)return;const s=new google.maps.Marker;s.setPosition(new google.maps.LatLng(t,a)),s.setMap(this.map),this.map.setCenter(new google.maps.LatLng(t,a))}addMarkerToMap(t){this.map&&this.getLatLongFromAddress(t.address.street+", "+t.address.number+", "+t.address.neighborhood+", "+t.address.city+", "+t.address.state,(a,s)=>{this.addMarkerAndCenterMap(a,s)})}}return(o=r).\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),r})();const f=["map"],Z=["minhaDiv"];function b(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"div",7)(2,"div",11)(3,"div",12),e._UZ(4,"img",13),e.TgZ(5,"div",14)(6,"h2"),e._uU(7),e.qZA(),e.TgZ(8,"p",15)(9,"small"),e._uU(10),e.qZA()(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e._UZ(15,"hr"),e.TgZ(16,"h4"),e._uU(17,"Informa\xe7\xf5es de Endere\xe7o:"),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA(),e.TgZ(20,"p"),e._uU(21),e.qZA(),e.TgZ(22,"p"),e._uU(23),e.qZA(),e.TgZ(24,"p"),e._uU(25),e.qZA(),e.TgZ(26,"p"),e._uU(27),e.qZA(),e.TgZ(28,"p"),e._uU(29),e.qZA(),e.TgZ(30,"p"),e._uU(31),e.qZA()()()()(),e.BQk()),2&o){const n=r.$implicit,t=e.oxw();e.xp6(4),e.Q6J("src",n.image||"/ska/assets/images/logoCatavento.png",e.LSH),e.xp6(3),e.Oqu(n.name),e.xp6(3),e.Oqu(t.tipos[n.serviceType]),e.xp6(2),e.hij(" ",n.description," "),e.xp6(2),e.Oqu(n.phone),e.xp6(5),e.hij("Rua: ",n.address.street,""),e.xp6(2),e.hij("N\xfamero: ",n.address.number,""),e.xp6(2),e.hij("Complemento: ",n.address.complement,""),e.xp6(2),e.hij("Bairro: ",n.address.neighborhood,""),e.xp6(2),e.hij("Cidade: ",n.address.city,""),e.xp6(2),e.hij("Estado: ",n.address.state,""),e.xp6(2),e.hij("CEP: ",n.address.zipCode,"")}}let M=(()=>{var o;class r{constructor(t,a,s){this.establishmentService=t,this.route=a,this.googleMapsService=s,this.headerConfiguration={title:"Detalhes do estabelecimento",hasAddButton:!1,hasBackButton:!0,backButtonRoute:"/establishment"},this.tipos=["Mecanica","Oficina","Funilaria","Autope\xe7as"],this.route.data.subscribe(d=>{this.establishmentId=d.establishmentId})}ngOnInit(){let t=this.route.snapshot.params.id;this.establishments$=this.establishmentService.getAll().pipe((0,m.U)(a=>a.filter(s=>s.id===t)[0]),(0,h.b)(a=>{a&&this.googleMapsService.addMarkerToMap(a)}))}ngAfterViewInit(){this.mapElement&&this.googleMapsService.createMap(this.mapElement)}}return(o=r).\u0275fac=function(t){return new(t||o)(e.Y36(u.u),e.Y36(c.gz),e.Y36(v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-details"]],viewQuery:function(t,a){if(1&t&&(e.Gf(f,5),e.Gf(Z,5)),2&t){let s;e.iGM(s=e.CRH())&&(a.mapElement=s.first),e.iGM(s=e.CRH())&&(a.minhaDiv=s.first)}},standalone:!0,features:[e.jDz],decls:13,vars:3,consts:[[1,"navbar"],[1,"navbar-left"],["routerLink","/establishment"],[1,"fas","fa-chevron-left","navbar-icon"],[1,"navbar-brand"],[1,"navbar-right"],[4,"ngIf"],[1,"row"],[1,"col"],[1,"mb-4",2,"width","100%","height","400px"],["map",""],[1,"col-md-12"],[1,"card","mb-4","box-shadow"],["data-src","holder.js/100px225?theme=thumb&bg=55595c&fg=eceeef&text=Thumbnail","alt","Thumbnail [100%x225]","data-holder-rendered","true",1,"card-img-top",2,"height","225px","width","100%","display","block",3,"src"],[1,"card-body"],[1,"text-body-secondary"]],template:function(t,a){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._UZ(3,"i",3),e.qZA()(),e.TgZ(4,"label",4),e._uU(5,"Detalhes do estabelecimento"),e.qZA(),e._UZ(6,"div",5),e.qZA(),e.YNc(7,b,32,12,"ng-container",6),e.ALo(8,"async"),e.TgZ(9,"div",7)(10,"div",8),e._UZ(11,"div",9,10),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngIf",e.lcZ(8,1,a.establishments$)))},dependencies:[p.ez,p.O5,p.Ov,c.Bz,c.rH],styles:["p[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.navbar[_ngcontent-%COMP%]{padding:8px 0}.navbar[_ngcontent-%COMP%]   .navbar-left[_ngcontent-%COMP%]{margin-left:10px}.navbar[_ngcontent-%COMP%]   .navbar-right[_ngcontent-%COMP%]{margin-right:10px}.navbar[_ngcontent-%COMP%]   .navbar-icon[_ngcontent-%COMP%]{font-size:25px;color:#000;padding:8px 0}"]}),r})()}}]);